[gd_scene load_steps=23 format=2]

[ext_resource path="res://Graphics/Rooms/Podunk/mayorlobby.png" type="Texture" id=1]
[ext_resource path="res://Graphics/Rooms/Podunk/Podunk_Mayors_Office.png" type="Texture" id=2]
[ext_resource path="res://Nodes/Overworld/camarea.tscn" type="PackedScene" id=3]
[ext_resource path="res://Nodes/Overworld/Door.tscn" type="PackedScene" id=4]
[ext_resource path="res://Nodes/Reusables/npc.tscn" type="PackedScene" id=5]
[ext_resource path="res://Tilesets/MayorsOffice.tres" type="TileSet" id=6]
[ext_resource path="res://Nodes/Reusables/stepping sounds.tscn" type="PackedScene" id=7]
[ext_resource path="res://Nodes/Overworld/Objects/Openable Door.tscn" type="PackedScene" id=8]
[ext_resource path="res://Graphics/Objects/Doors/Mayor_Office_Door.png" type="Texture" id=9]
[ext_resource path="res://Scripts/Main/room.gd" type="Script" id=10]
[ext_resource path="res://Nodes/Overworld/MusicChanger.tscn" type="PackedScene" id=11]
[ext_resource path="res://Graphics/Rooms/Podunk/mayorlobby_desk.png" type="Texture" id=12]

[sub_resource type="RectangleShape2D" id=74]
extents = Vector2( 7.87464, 17.0085 )

[sub_resource type="Shader" id=438]
code = "shader_type canvas_item;

uniform vec4 flash_color : hint_color = vec4(1.0);
uniform vec4 glow_color : hint_color = vec4(1.0);
uniform float flash_modifier : hint_range(0.0, 1.0) = 0.0;
uniform float glow_modifier : hint_range(0.0, 1.0) = 0.0;

void fragment() {
	vec4 color = texture(TEXTURE, UV);
	color.rgb = color.rgb + glow_color.rgb * glow_modifier;
	color.rgb = mix(color.rgb, flash_color.rgb, flash_modifier);
	COLOR = color;
}
"

[sub_resource type="ShaderMaterial" id=433]
resource_local_to_scene = true
shader = SubResource( 438 )
shader_param/flash_color = Color( 1, 1, 1, 1 )
shader_param/glow_color = Color( 1, 1, 1, 1 )
shader_param/flash_modifier = 0.0
shader_param/glow_modifier = 0.0

[sub_resource type="CircleShape2D" id=72]
radius = 72.3395

[sub_resource type="RectangleShape2D" id=145]
extents = Vector2( 31.4985, 12.7564 )

[sub_resource type="ShaderMaterial" id=434]
resource_local_to_scene = true
shader = SubResource( 438 )
shader_param/flash_color = Color( 1, 1, 1, 1 )
shader_param/glow_color = Color( 1, 1, 1, 1 )
shader_param/flash_modifier = 0.0
shader_param/glow_modifier = 0.0

[sub_resource type="RectangleShape2D" id=73]
extents = Vector2( 200, 128 )

[sub_resource type="RectangleShape2D" id=146]
extents = Vector2( 32, 28 )

[sub_resource type="RectangleShape2D" id=147]
extents = Vector2( 41, 25 )

[sub_resource type="RectangleShape2D" id=435]
extents = Vector2( 240, 388 )

[node name="Mayors Office" type="Node2D"]
script = ExtResource( 10 )
player_map_offset = Vector2( 110, 240 )
region_name = "Podunk"
map_item = "MapPodunk"
is_sub_area = true

[node name="Mayor\'s Office" type="Sprite" parent="."]
position = Vector2( 8, -608 )
texture = ExtResource( 2 )

[node name="Mayor\'s Office2" type="Sprite" parent="."]
position = Vector2( 8, -64 )
texture = ExtResource( 1 )

[node name="Openable Door" parent="." instance=ExtResource( 8 )]
position = Vector2( -72, -64 )
sprite = ExtResource( 9 )

[node name="npc4" parent="." instance=ExtResource( 5 )]
position = Vector2( 8, -50 )
sprite = "Npcs/4dir/abbott"
dialog = "Podunk/abbott"
event_dialog = [ PoolStringArray( "zoo_freed", "Podunk/abbott_2" ) ]
player_turn = {
"x": true,
"y": true
}
no_shadow = true
no_collision = true

[node name="MayorlobbyDesk" type="Sprite" parent="."]
position = Vector2( 8, -48 )
texture = ExtResource( 12 )

[node name="Objects" type="TileMap" parent="."]
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
cell_custom_transform = Transform2D( 16, 0, 0, 16, 0, 0 )
cell_y_sort = true
format = 1
tile_data = PoolIntArray( -2424835, 170, 0, -2359295, 169, 0, -2162694, 168, 0, -2228218, 168, 0, -131066, 174, 0, -9, 171, 0 )

[node name="npc" parent="Objects" instance=ExtResource( 5 )]
position = Vector2( 8, -608 )
sprite = "Npcs/4dir/podunkmayorfront"
dialog = "Podunk/mayor_help"
event_dialog = [ PoolStringArray( "pippi_rescued", "Podunk/cutscenes/mayor_pippi_rescue" ), PoolStringArray( "pippi_delivered", "Podunk/mayor_report" ), PoolStringArray( "zoo_freed", "Podunk/mayor_zoo_freed" ) ]
player_turn = {
"x": true,
"y": true
}
no_shadow = true
no_collision = true
staring = true

[node name="CollisionShape2D" parent="Objects/npc/interact" index="0"]
position = Vector2( 0, 34 )
shape = SubResource( 74 )

[node name="ButtonPrompt" parent="Objects/npc/interact" index="1"]
material = SubResource( 433 )

[node name="CollisionShape2D2" parent="Objects/npc/ViewArea" index="0"]
shape = SubResource( 72 )

[node name="npc2" parent="Objects" instance=ExtResource( 5 )]
position = Vector2( 8, -608 )
sprite = "Npcs/4dir/podunkmayorside"
dialog = "Podunk/mayor_side_desk"
event_dialog = [ PoolStringArray( "pippi_delivered", "Podunk/mayor_report" ), PoolStringArray( "zoo_freed", "Podunk/mayor_side_desk" ) ]
player_turn = {
"x": true,
"y": true
}
no_shadow = true
no_collision = true
sprite_offset = Vector2( 0, -2 )
staring = true

[node name="CollisionShape2D" parent="Objects/npc2/interact" index="0"]
position = Vector2( -9.53674e-07, 6 )
shape = SubResource( 145 )

[node name="ButtonPrompt" parent="Objects/npc2/interact" index="1"]
material = SubResource( 434 )

[node name="CollisionShape2D2" parent="Objects/npc2/ViewArea" index="0"]
shape = SubResource( 72 )

[node name="npc3" parent="Objects" instance=ExtResource( 5 )]
position = Vector2( 8, -480 )
sprite = "Npcs/4dir/abbott"
player_turn = {
"x": true,
"y": true
}
idle_animation = "Walk"
talk_idle_animation = "Walk"

[node name="npc4" parent="Objects" instance=ExtResource( 5 )]
position = Vector2( -216, -600 )
sprite = "Pippi"
dialog = "Podunk/pippi_town_hall"
player_turn = {
"x": true,
"y": true
}
staring = true

[node name="Above" type="TileMap" parent="."]
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
cell_custom_transform = Transform2D( 16, 0, 0, 16, 0, 0 )
show_collision = true
collision_layer = 5
format = 1
tile_data = PoolIntArray( -2097164, 173, 3, -2097163, 173, 3, -2097162, 173, 3, -2097161, 173, 3, -2097160, 173, 3, -2097159, 173, 3, -2097158, 173, 3, -2097157, 173, 3, -2097156, 173, 3, -2097155, 173, 3, -2097154, 173, 3, -2097153, 173, 2, -2162687, 173, 65538, -2162686, 173, 3, -2162685, 173, 3, -2162684, 173, 3, -2162683, 173, 3, -2162682, 173, 3, -2162681, 173, 3, -2162680, 173, 3, -2162679, 173, 3, -2162678, 173, 3, -2162677, 173, 3, -2162676, 173, 3, -2031628, 173, 3, -2031627, 173, 3, -2031626, 173, 3, -2031625, 173, 3, -2031624, 173, 3, -2031623, 173, 3, -2031622, 173, 3, -2031621, 173, 3, -2031620, 173, 3, -2031619, 173, 3, -2031618, 173, 3, -2031617, 173, 3, -2097152, 173, 3, -2097151, 173, 3, -2097150, 173, 3, -2097149, 173, 3, -2097148, 173, 3, -2097147, 173, 3, -2097146, 173, 3, -2097145, 173, 3, -2097144, 173, 3, -2097143, 173, 3, -2097142, 173, 3, -2097141, 173, 3, -2097140, 173, 3, -1966091, 173, 3, -1966090, 173, 3, -1966089, 173, 3, -1966088, 173, 3, -1966087, 173, 3, -1966086, 173, 3, -1966085, 173, 3, -1966084, 173, 3, -1966083, 173, 3, -1966082, 173, 3, -1966081, 173, 3, -2031616, 173, 3, -2031615, 173, 3, -2031614, 173, 3, -2031613, 173, 3, -2031612, 173, 3, -2031611, 173, 3, -2031610, 173, 3, -2031609, 173, 3, -2031608, 173, 3, -2031607, 173, 3, -2031606, 173, 3, -2031605, 173, 3, -2031604, 173, 3, -1900555, 173, 3, -1900554, 173, 3, -1900553, 173, 3, -1900552, 173, 3, -1900551, 173, 3, -1900550, 173, 3, -1900549, 173, 3, -1900548, 173, 3, -1900547, 173, 3, -1900546, 173, 3, -1900545, 173, 3, -1966080, 173, 3, -1966079, 173, 3, -1966078, 173, 3, -1966077, 173, 3, -1966076, 173, 3, -1966075, 173, 3, -1966074, 173, 3, -1966073, 173, 3, -1966072, 173, 3, -1966071, 173, 3, -1966070, 173, 3, -1966069, 173, 3, -1966068, 173, 3, -1835019, 173, 3, -1835018, 173, 3, -1835017, 173, 3, -1835016, 173, 3, -1835015, 173, 3, -1835014, 173, 3, -1835013, 173, 3, -1835012, 173, 3, -1835011, 173, 3, -1835010, 173, 3, -1835009, 173, 3, -1900544, 173, 3, -1900543, 173, 3, -1900542, 173, 3, -1900541, 173, 3, -1900540, 173, 3, -1900539, 173, 3, -1900538, 173, 3, -1900537, 173, 3, -1900536, 173, 3, -1900535, 173, 3, -1900534, 173, 3, -1900533, 173, 3, -1900532, 173, 3, 65524, 173, 3, 65525, 173, 3, 65526, 173, 3, 65527, 173, 3, 65528, 173, 3, 65529, 173, 3, 65530, 173, 3, 65531, 173, 3, 65532, 173, 3, 65533, 173, 3, 65534, 173, 0, 65535, 173, 1, 1, 173, 65536, 2, 173, 65537, 3, 173, 3, 4, 173, 3, 5, 173, 3, 6, 173, 3, 7, 173, 3, 8, 173, 3, 9, 173, 3, 10, 173, 3, 11, 173, 3, 12, 173, 3, 131060, 173, 3, 131061, 173, 3, 131062, 173, 3, 131063, 173, 3, 131064, 173, 3, 131065, 173, 3, 131066, 173, 3, 131067, 173, 3, 131068, 173, 3, 131069, 173, 3, 131070, 173, 3, 131071, 173, 3, 65536, 173, 3, 65537, 173, 3, 65538, 173, 3, 65539, 173, 3, 65540, 173, 3, 65541, 173, 3, 65542, 173, 3, 65543, 173, 3, 65544, 173, 3, 65545, 173, 3, 65546, 173, 3, 65547, 173, 3, 65548, 173, 3, 196597, 173, 3, 196598, 173, 3, 196599, 173, 3, 196600, 173, 3, 196601, 173, 3, 196602, 173, 3, 196603, 173, 3, 196604, 173, 3, 196605, 173, 3, 196606, 173, 3, 196607, 173, 3, 131072, 173, 3, 131073, 173, 3, 131074, 173, 3, 131075, 173, 3, 131076, 173, 3, 131077, 173, 3, 131078, 173, 3, 131079, 173, 3, 131080, 173, 3, 131081, 173, 3, 131082, 173, 3, 131083, 173, 3, 131084, 173, 3 )

[node name="Limits" type="Node2D" parent="."]
visible = false

[node name="camarea7" parent="Limits" instance=ExtResource( 3 )]
visible = false
position = Vector2( 0, -584 )

[node name="CollisionShape2D" parent="Limits/camarea7" index="0"]
position = Vector2( 8, -8 )
shape = SubResource( 73 )

[node name="camarea10" parent="Limits" instance=ExtResource( 3 )]
position = Vector2( 8, -64 )

[node name="CollisionShape2D" parent="Limits/camarea10" index="0"]
position = Vector2( 0, 8 )
shape = SubResource( 73 )

[node name="Collisions" type="StaticBody2D" parent="."]
visible = false
collision_layer = 513

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Collisions"]
position = Vector2( 992, -2176 )
polygon = PoolVector2Array( -1074, 1560, -1040, 1560, -1040, 1552, -912, 1552, -912, 1560, -894, 1560, -880, 1632, -896, 1632, -896, 1664, -968, 1664, -968, 1680, -992, 1680, -992, 1688, -872, 1688, -872, 1472, -1096, 1472, -1096, 1688, -992, 1688, -992, 1680, -1000, 1680, -1000, 1664, -1072.23, 1664, -1072, 1632, -1088, 1632 )

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="Collisions"]
position = Vector2( 992, -1648 )
polygon = PoolVector2Array( -960, 1696, -808, 1696, -808, 1496, -1152, 1496, -1152, 1696, -960, 1696, -960, 1680, -1008, 1680, -1008, 1664, -1114, 1664, -1112, 1632, -1128, 1632, -1125, 1594, -1107, 1594, -1107, 1584, -1080, 1584, -1080, 1576, -1048, 1576, -1048, 1584, -1024, 1584, -1024, 1616, -944, 1616, -944, 1584, -861, 1584, -861, 1594, -843, 1594, -832, 1664, -960, 1664 )

[node name="Doors" type="Node2D" parent="."]

[node name="MayorLobby" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( -16, 24 )
scale = Vector2( 6, 1 )
targetX = 192
targetY = 1768
dir = Vector2( 0, 1 )
sound = "M3/door_open.wav"
transit_in_anim = "Circle Focus"
transit_out_anim = "Circle Focus"
targetScene = "podunk/podunk"

[node name="MayorLobby2" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( -88, -73 )
scale = Vector2( 4, 1 )
dir = Vector2( 0, -1 )
end_sound = "Door_Short.mp3"

[node name="Position2D" parent="Doors/MayorLobby2" index="1"]
position = Vector2( 24, -439 )

[node name="MayorLobby3" parent="Doors" instance=ExtResource( 4 )]
position = Vector2( -16, -504 )
scale = Vector2( 6, 1 )
dir = Vector2( 0, 1 )
sound = "M3/door_open.wav"

[node name="Position2D" parent="Doors/MayorLobby3" index="1"]
position = Vector2( -9.33334, 448 )

[node name="Stepping Sounds" type="Node2D" parent="."]

[node name="Wood" parent="Stepping Sounds" instance=ExtResource( 7 )]
entering_sound = "wood"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stepping Sounds/Wood"]
position = Vector2( 8, 12 )
shape = SubResource( 146 )

[node name="Carpet" parent="Stepping Sounds" instance=ExtResource( 7 )]
entering_sound = "stone"
exiting_sound = "wood"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stepping Sounds/Carpet"]
position = Vector2( 8, -581 )
shape = SubResource( 147 )

[node name="MusicArea" parent="." instance=ExtResource( 11 )]
visible = false
loop = "Town Hall.mp3"
volume_db = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="MusicArea"]
position = Vector2( 0, -348 )
shape = SubResource( 435 )

[editable path="Objects/npc"]
[editable path="Objects/npc/CharacterSprite"]
[editable path="Objects/npc2"]
[editable path="Objects/npc2/CharacterSprite"]
[editable path="Limits/camarea7"]
[editable path="Limits/camarea10"]
[editable path="Doors/MayorLobby"]
[editable path="Doors/MayorLobby2"]
[editable path="Doors/MayorLobby3"]
